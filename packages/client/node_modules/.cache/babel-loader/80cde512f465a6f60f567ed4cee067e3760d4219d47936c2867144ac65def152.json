{"ast":null,"code":"import React,{useMemo}from'react';import{useNavigate}from'react-router-dom';import FilesList from'../FilesList/FilesList';import Checkbox from'../UI/Checkbox/Checkbox';import Label from'../UI/Label/Label';import File from'../UI/File/File';import Headline3 from'../UI/Headline3/Headline3';import IconButton from'../UI/IconButton/IconButton';import Paragraph from'../UI/Paragraph/Paragraph';import style from'./ToDoItem.module.less';import{ReactComponent as Edit}from'../../assets/svg/edit.svg';import{ReactComponent as Trash}from'../../assets/svg/trash.svg';import'../../assets/less/_variables.less';import dayjs from'dayjs';import utc from'dayjs/plugin/utc';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";dayjs.extend(utc);/**\r\n * ToDo list item\r\n * @param {Object} props Component props\r\n * @param {string} [props.className] External CSS classes\r\n * @param {Object} props.task Task object with data\r\n * @param {function(Object): void} props.openEditForm Opens AddEditForm in \"Edit\" mode\r\n * @param {function(boolean, Object): void} props.setCompleted Sets taks completed\r\n * @param {function(number): void} props.removeTask Removes task from ToDo List\r\n * @returns {JSX.Element} ToDo list item element\r\n * @example\r\n * return (\r\n *   <ToDoItem\r\n *     className='ToDoList__item'\r\n *     task={task}\r\n *     openEditForm={openEditForm}\r\n *     setCompleted={setCompleted}\r\n *     removeTask={removeTask}\r\n *   />\r\n * )\r\n */function ToDoItem(_ref){var task=_ref.task,className=_ref.className,openEditForm=_ref.openEditForm,setCompleted=_ref.setCompleted,removeTask=_ref.removeTask;var expired=useMemo(function(){return dayjs().isAfter(dayjs.utc(task.expire).local());},[task.expire]);var navigate=useNavigate();return/*#__PURE__*/_jsxs(\"li\",{className:className?\"\".concat(style.ToDoItem,\" \").concat(className):style.ToDoItem,children:[/*#__PURE__*/_jsx(Checkbox,{className:style.ToDoItem__checkbox,id:\"task-\".concat(task.id),checked:task.completed,onChange:function onChange(e){return setCompleted(e.target.checked,task);}}),/*#__PURE__*/_jsxs(\"div\",{className:task.completed||expired?\"\".concat(style.ToDoItem__wrapper,\" \").concat(style['ToDoItem__wrapper--completed']):style.ToDoItem__wrapper,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.ToDoItem__content,children:[/*#__PURE__*/_jsx(Label,{className:style.ToDoItem__date,children:dayjs.utc(task.expire).local().format('dddd, D MMM YYYY HH:mm')}),/*#__PURE__*/_jsx(Headline3,{className:style.ToDoItem__headline,onClick:function onClick(){return navigate(\"/tasks/\".concat(task.id),{state:{task:task}});},children:task.name}),task.description.length>0&&/*#__PURE__*/_jsx(Paragraph,{className:style.ToDoItem__description,children:task.description}),task.files.length>0&&/*#__PURE__*/_jsx(FilesList,{children:task.files.map(function(file,i){return/*#__PURE__*/_jsx(File,{taskId:task.id,className:style.ToDoItem__file,completed:task.completed,expired:expired,children:file},i);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.ToDoItem__buttons,children:[/*#__PURE__*/_jsx(IconButton,{className:style.ToDoItem__button,modifier:\"edit\",onClick:function onClick(){return openEditForm(task);},children:/*#__PURE__*/_jsx(Edit,{className:style.ToDoItem__edit})}),/*#__PURE__*/_jsx(IconButton,{className:style.ToDoItem__button,modifier:\"trash\",onClick:function onClick(){return removeTask(task.id);},children:/*#__PURE__*/_jsx(Trash,{className:style.ToDoItem__trash})})]})]})]});}export default ToDoItem;","map":{"version":3,"names":["React","useMemo","useNavigate","FilesList","Checkbox","Label","File","Headline3","IconButton","Paragraph","style","ReactComponent","Edit","Trash","dayjs","utc","extend","ToDoItem","task","className","openEditForm","setCompleted","removeTask","expired","isAfter","expire","local","navigate","ToDoItem__checkbox","id","completed","e","target","checked","ToDoItem__wrapper","ToDoItem__content","ToDoItem__date","format","ToDoItem__headline","state","name","description","length","ToDoItem__description","files","map","file","i","ToDoItem__file","ToDoItem__buttons","ToDoItem__button","ToDoItem__edit","ToDoItem__trash"],"sources":["C:/Users/elaia/YandexDisk/Frontend/Портфолио/react-todo-list/packages/client/src/components/ToDoItem/ToDoItem.jsx"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport FilesList from '../FilesList/FilesList';\r\nimport Checkbox from '../UI/Checkbox/Checkbox';\r\nimport Label from '../UI/Label/Label';\r\nimport File from '../UI/File/File';\r\nimport Headline3 from '../UI/Headline3/Headline3';\r\nimport IconButton from '../UI/IconButton/IconButton';\r\nimport Paragraph from '../UI/Paragraph/Paragraph';\r\nimport style from './ToDoItem.module.less';\r\nimport { ReactComponent as Edit } from '../../assets/svg/edit.svg';\r\nimport { ReactComponent as Trash } from '../../assets/svg/trash.svg';\r\nimport '../../assets/less/_variables.less';\r\nimport dayjs from 'dayjs';\r\nimport utc from 'dayjs/plugin/utc';\r\ndayjs.extend(utc);\r\n\r\n/**\r\n * ToDo list item\r\n * @param {Object} props Component props\r\n * @param {string} [props.className] External CSS classes\r\n * @param {Object} props.task Task object with data\r\n * @param {function(Object): void} props.openEditForm Opens AddEditForm in \"Edit\" mode\r\n * @param {function(boolean, Object): void} props.setCompleted Sets taks completed\r\n * @param {function(number): void} props.removeTask Removes task from ToDo List\r\n * @returns {JSX.Element} ToDo list item element\r\n * @example\r\n * return (\r\n *   <ToDoItem\r\n *     className='ToDoList__item'\r\n *     task={task}\r\n *     openEditForm={openEditForm}\r\n *     setCompleted={setCompleted}\r\n *     removeTask={removeTask}\r\n *   />\r\n * )\r\n */\r\nfunction ToDoItem({ task, className, openEditForm, setCompleted, removeTask }) {\r\n  const expired = useMemo(\r\n    () => dayjs().isAfter(dayjs.utc(task.expire).local()),\r\n    [task.expire]\r\n  );\r\n\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <li\r\n      className={className ? `${style.ToDoItem} ${className}` : style.ToDoItem}\r\n    >\r\n      <Checkbox\r\n        className={style.ToDoItem__checkbox}\r\n        id={`task-${task.id}`}\r\n        checked={task.completed}\r\n        onChange={e => setCompleted(e.target.checked, task)}\r\n      />\r\n      <div\r\n        className={\r\n          task.completed || expired\r\n            ? `${style.ToDoItem__wrapper} ${style['ToDoItem__wrapper--completed']}`\r\n            : style.ToDoItem__wrapper\r\n        }\r\n      >\r\n        <div className={style.ToDoItem__content}>\r\n          <Label className={style.ToDoItem__date}>\r\n            {dayjs.utc(task.expire).local().format('dddd, D MMM YYYY HH:mm')}\r\n          </Label>\r\n          <Headline3\r\n            className={style.ToDoItem__headline}\r\n            onClick={() =>\r\n              navigate(`/tasks/${task.id}`, {\r\n                state: { task },\r\n              })\r\n            }\r\n          >\r\n            {task.name}\r\n          </Headline3>\r\n          {task.description.length > 0 && (\r\n            <Paragraph className={style.ToDoItem__description}>\r\n              {task.description}\r\n            </Paragraph>\r\n          )}\r\n          {task.files.length > 0 && (\r\n            <FilesList>\r\n              {task.files.map((file, i) => (\r\n                <File\r\n                  taskId={task.id}\r\n                  className={style.ToDoItem__file}\r\n                  completed={task.completed}\r\n                  expired={expired}\r\n                  key={i}\r\n                >\r\n                  {file}\r\n                </File>\r\n              ))}\r\n            </FilesList>\r\n          )}\r\n        </div>\r\n        <div className={style.ToDoItem__buttons}>\r\n          <IconButton\r\n            className={style.ToDoItem__button}\r\n            modifier='edit'\r\n            onClick={() => openEditForm(task)}\r\n          >\r\n            <Edit className={style.ToDoItem__edit} />\r\n          </IconButton>\r\n          <IconButton\r\n            className={style.ToDoItem__button}\r\n            modifier='trash'\r\n            onClick={() => removeTask(task.id)}\r\n          >\r\n            <Trash className={style.ToDoItem__trash} />\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ToDoItem;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}